<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Beta Distribution Calculator</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/annotations.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jstat@1.9.6/dist/jstat.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet"/>
    <style>
        :root {
            --panel-bg: #484b57;
            --panel-radius: 10px;
            --panel-shadow: 0px 4px 20px rgba(0, 0, 0, 0.4);
            --header-bg: #000;
            --header-color: rgb(233,30,99);
            --highlight-bg: rgba(233, 30, 99, 0.2);
            --highlight-text: rgb(233, 30, 99);
            --primary-blue: #3498db;
            --primary-blue-hover: #2980b9;
            --success-green: #27ae60;
            --warning-orange: #f39c12;
            --danger-red: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #282c39 0%, #1e2329 100%);
            color: white;
        }

        #main-wrapper {
            width: 100%;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .main-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .content-wrapper {
            flex: 1;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            height: 100%;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--header-bg) 0%, #1a1a2e 100%);
            border-radius: var(--panel-radius);
            box-shadow: var(--panel-shadow);
            flex-shrink: 0;
        }

        .header h1 {
            font-size: 2.5rem;
            color: var(--header-color);
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .header p {
            color: #bbb;
            font-size: 1.1rem;
            font-weight: 300;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            flex: 1;
            min-height: 0;
        }

        .control-panel {
            background: var(--panel-bg);
            border-radius: var(--panel-radius);
            box-shadow: var(--panel-shadow);
            padding: 25px;
            height: fit-content;
        }

        .visualization-panel {
            background: var(--panel-bg);
            border-radius: var(--panel-radius);
            box-shadow: var(--panel-shadow);
            padding: 25px;
            display: flex;
            flex-direction: column;
            min-height: 500px;
        }

        .panel-title {
            font-size: 1.4rem;
            color: var(--header-color);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #e8e8e8;
        }

        .input-row {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .input-field {
            flex: 1;
            padding: 12px;
            border: 2px solid #555;
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-blue);
            background: rgba(255,255,255,0.15);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }

        .calculation-type {
            margin-bottom: 25px;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255,255,255,0.05);
        }

        .radio-option:hover {
            border-color: var(--primary-blue);
            background: rgba(52, 152, 219, 0.1);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.2);
        }

        .radio-option.selected {
            border-color: var(--header-color);
            background: var(--highlight-bg);
            color: var(--highlight-text);
            box-shadow: 0 4px 16px rgba(233, 30, 99, 0.3);
        }

        .radio-option.selected.quantile-mode {
            border-color: #9b59b6;
            background: rgba(155, 89, 182, 0.2);
            color: #9b59b6;
            box-shadow: 0 4px 16px rgba(155, 89, 182, 0.3);
        }

        .radio-option input[type="radio"] {
            margin: 0;
            width: 20px;
            height: 20px;
            accent-color: var(--header-color);
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-green), #229954);
            color: white;
            box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #229954, var(--success-green));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }

        .chart-container {
            flex: 1;
            min-height: 300px;
            max-height: 450px;
            margin-top: 20px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .shaded-area-info {
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid var(--header-color);
            transition: all 0.3s ease;
        }

        .shaded-area-info.quantile-mode {
            border-left-color: #9b59b6;
            background: rgba(155, 89, 182, 0.1);
        }

        /* Embedded Results Panel Styles */
        .embedded-results-panel {
            background: rgba(0,0,0,0.2);
            border-radius: 6px;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .embedded-panel-title {
            font-size: 0.85rem;
            color: var(--header-color);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .embedded-stats-grid {
            display: flex;
            gap: 4px;
            flex-wrap: nowrap;
            justify-content: center;
            overflow-x: auto;
        }

        .embedded-stat-item {
            background: rgba(255,255,255,0.08);
            padding: 4px 6px;
            border-radius: 4px;
            text-align: center;
            min-width: 55px;
            flex: 0 0 auto;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
        }

        .embedded-stat-value {
            font-size: 0.85rem;
            font-weight: bold;
            color: var(--header-color);
            line-height: 1.1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .embedded-stat-label {
            color: #bbb;
            font-size: 0.65rem;
            margin-top: 1px;
            line-height: 1;
            transition: color 0.3s ease;
        }

        /* Tabs and Chart Options Styles */
        .tabs-and-options-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 2px solid #555;
            padding-bottom: 8px;
            flex-shrink: 0;
        }

        .tabs {
            display: flex;
            margin-bottom: 0;
            border-bottom: none;
        }

        .tab {
            padding: 8px 15px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #bbb;
            position: relative;
            overflow: hidden;
            font-size: 0.9rem;
        }

        .tab:hover {
            color: white;
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }

        .tab.active {
            color: var(--header-color);
            border-bottom-color: var(--header-color);
            background: rgba(233, 30, 99, 0.1);
            transform: translateY(0);
            box-shadow: 0 4px 12px rgba(233, 30, 99, 0.3);
        }

        .tab-content {
            display: none;
            flex: 1;
            min-height: 0;
            overflow: hidden;
        }

        .tab-content.active {
            display: flex;
            flex-direction: column;
        }

        .chart-options-toolbar {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .chart-option {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .option-label {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.8rem;
            color: #bbb;
            font-weight: 500;
            white-space: nowrap;
        }

        .option-label i {
            font-size: 0.75rem;
            color: var(--primary-blue);
            opacity: 0.8;
        }

        .mini-dropdown {
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 4px;
            color: white;
            padding: 3px 6px;
            font-size: 0.75rem;
            min-width: 45px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mini-dropdown:hover {
            background: rgba(255,255,255,0.12);
            border-color: var(--primary-blue);
        }

        .mini-dropdown:focus {
            outline: none;
            border-color: var(--primary-blue);
            background: rgba(52, 152, 219, 0.1);
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.3);
        }

        .mini-dropdown option {
            background: #2c3e50;
            color: white;
            padding: 4px;
        }

        /* Chart container styles */
        .chart-container {
            flex: 1 1 auto;
            min-height: 300px;
            max-height: 600px;
            width: 100%;
            position: relative;
        }

        /* Tooltip styles */
        .tooltip-container {
            position: relative;
            display: inline-block;
        }

        .tooltip {
            position: absolute;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            line-height: 1.4;
            max-width: 250px;
            width: max-content;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            border: 1px solid rgba(233, 30, 99, 0.3);
            pointer-events: none;
        }

        .tooltip::before {
            content: '';
            position: absolute;
            top: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-bottom: 6px solid #2c3e50;
        }

        .tooltip.bottom {
            top: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%) translateY(10px);
        }

        .tooltip-container:hover .tooltip,
        .tooltip-container:focus-within .tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        .tooltip strong {
            color: var(--header-color);
            display: block;
            margin-bottom: 3px;
            font-size: 0.85rem;
        }

        .tooltip-example {
            color: #bbb;
            font-style: italic;
            margin-top: 4px;
            font-size: 0.75rem;
        }

        .tooltip-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 12px;
            height: 12px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border-radius: 50%;
            font-size: 7px;
            margin-left: 4px;
            vertical-align: middle;
            opacity: 0.7;
            transition: all 0.3s ease;
            cursor: help;
            box-shadow: 0 2px 4px rgba(52, 152, 219, 0.3);
        }

        .tooltip-icon:hover {
            opacity: 1;
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.4);
        }

        .tooltip-container.with-icon {
            display: inline-flex;
            align-items: center;
            gap: 2px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .content-wrapper {
                padding: 15px;
            }

            .control-panel,
            .visualization-panel {
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .content-wrapper {
                padding: 10px;
            }

            .container {
                gap: 20px;
            }

            .control-panel,
            .visualization-panel {
                padding: 15px;
            }

            .panel-title {
                font-size: 1.2rem;
            }

            .input-row {
                flex-direction: column;
                gap: 10px;
            }

            .embedded-stats-grid {
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px;
            }

            .embedded-stat-item {
                min-width: 60px;
                flex: 0 0 auto;
            }

            .chart-container {
                max-height: 300px;
            }
        }

        /* Highcharts specific styling for dark theme */
        .highcharts-container {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        }

        .highcharts-background {
            fill: transparent !important;
        }

        .highcharts-title {
            fill: white !important;
        }

        .highcharts-subtitle {
            fill: #bbb !important;
        }

        .highcharts-axis-labels text {
            fill: white !important;
        }

        .highcharts-axis-title {
            fill: white !important;
        }

        .highcharts-legend-item text {
            fill: white !important;
        }

        .highcharts-plot-line-label {
            color: white !important;
        }

        /* Animation effects */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        /* Copy to Clipboard Buttons */
        .copy-btn-small {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            padding: 4px 6px;
            color: var(--header-color);
            cursor: pointer;
            font-size: 0.7rem;
            transition: all 0.3s ease;
            margin-left: 6px;
        }

        .copy-btn-small:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--header-color);
            transform: scale(1.05);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2px;
        }

        .clean-stat .stat-header {
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }

        .results-row {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            align-items: stretch;
        }

        .probability-visualization {
            flex: 0 0 45%;
        }

        .about-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }

        .about-btn:hover {
            background: linear-gradient(135deg, #2980b9, #3498db);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
        }

        /* About Modal Styles */
        .about-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .about-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .about-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-radius: 16px;
            padding: 30px;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border: 2px solid rgba(233, 30, 99, 0.3);
            position: relative;
            color: white;
            line-height: 1.6;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #bbb;
            cursor: pointer;
            transition: color 0.3s ease;
            padding: 5px;
            position: absolute;
            top: 15px;
            right: 15px;
        }

        .close-modal:hover {
            color: var(--header-color);
        }
    </style>
</head>
<body>
    <div id="main-wrapper">
        <div class="main-container">
            <div class="content-wrapper">
                <div class="container">
                    <div class="header">
                        <h1>
                            <i class="fas fa-chart-area"></i>
                            Beta Distribution Calculator
                        </h1>
                        <p>Interactive calculator for Beta distribution probabilities and statistics</p>
                        <div style="text-align: center; padding: 10px; background: rgba(52, 152, 219, 0.1); border-radius: 6px; border: 1px solid rgba(52, 152, 219, 0.3); margin-top: 15px;">
                            <i class="fas fa-bolt" style="color: #3498db; margin-right: 8px;"></i>
                            <span style="color: #3498db; font-weight: 600; font-size: 0.9rem;">Results update instantly as you type!</span>
                        </div>
                    </div>

                    <div class="main-content">
                        <div class="control-panel">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 class="panel-title" style="margin-bottom: 0;">
                                    <i class="fas fa-edit"></i>
                                    Input Panel
                                </h3>
                                <button class="btn btn-success" onclick="reloadCalculator()" style="padding: 8px 12px; font-size: 0.85rem;">
                                    <i class="fas fa-redo"></i>
                                    Reset
                                </button>
                            </div>

                            <div class="input-group">
                                <label>
                                    Alpha (α) Parameter
                                    <small style="color: #bbb; font-weight: normal; display: block; margin-top: 2px;">Shape parameter (must be > 0)</small>
                                </label>
                                <input type="number" id="alpha" class="input-field" value="2" step="0.1" min="0.1" placeholder="e.g., 1, 2, 5">
                            </div>

                            <div class="input-group">
                                <label>
                                    Beta (β) Parameter
                                    <small style="color: #bbb; font-weight: normal; display: block; margin-top: 2px;">Shape parameter (must be > 0)</small>
                                </label>
                                <input type="number" id="beta" class="input-field" value="3" step="0.1" min="0.1" placeholder="e.g., 1, 2, 5">
                            </div>

                            <div class="calculation-type">
                                <h4 style="margin-bottom: 15px; color: var(--header-color);">
                                    Calculation Type
                                </h4>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="calcType" value="probability" checked>
                                        <div>
                                            <strong>Find P(X ≤ x)</strong>
                                            <small style="color: #bbb; display: block; margin-top: 2px;">Cumulative probability</small>
                                        </div>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="calcType" value="between">
                                        <div>
                                            <strong>Find P(a ≤ X ≤ b)</strong>
                                            <small style="color: #bbb; display: block; margin-top: 2px;">Probability between two values</small>
                                        </div>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="calcType" value="quantile">
                                        <div>
                                            <strong>Find x given P(X ≤ x)</strong>
                                            <small style="color: #bbb; display: block; margin-top: 2px;">Inverse cumulative probability</small>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div id="inputSection">
                                <div class="input-group">
                                    <label>
                                        X Value (0 to 1)
                                        <small style="color: #bbb; font-weight: normal; display: block; margin-top: 2px;">Value to find probability for (between 0 and 1)</small>
                                    </label>
                                    <input type="number" id="xValue" class="input-field" value="0.5" step="0.01" min="0" max="1" placeholder="e.g., 0.25, 0.5, 0.75">
                                </div>
                            </div>
                        </div>

                        <div class="visualization-panel">
                            <h3 class="panel-title">
                                <i class="fas fa-chart-area"></i>
                                Results Panel - Visualizations & Statistics
                            </h3>

                            <!-- Combined Tabs and Chart Options Row -->
                            <div class="tabs-and-options-row">
                                <!-- Tabs on the Left -->
                                <div class="tabs">
                                    <div class="tab active tooltip-container" onclick="switchTab('pdf', this)">
                                        PDF View
                                        <div class="tooltip bottom">
                                            <strong>Probability Density Function</strong>
                                            Shows the Beta distribution curve and where values are most likely to occur.
                                            <div class="tooltip-example">Bounded between 0 and 1, area under curve = probability</div>
                                        </div>
                                    </div>
                                    <div class="tab tooltip-container" onclick="switchTab('cdf', this)">
                                        CDF View
                                        <div class="tooltip bottom">
                                            <strong>Cumulative Distribution Function</strong>
                                            Shows the probability of getting a value ≤ x. S-shaped curve from 0 to 1.
                                            <div class="tooltip-example">At median: CDF ≈ 0.5 (50th percentile)</div>
                                        </div>
                                    </div>
                                    <div class="tab tooltip-container" onclick="switchTab('both', this)">
                                        Combined View
                                        <div class="tooltip bottom">
                                            <strong>PDF + CDF Together</strong>
                                            Compare the Beta curve (PDF) and cumulative probability (CDF) side by side.
                                            <div class="tooltip-example">See how PDF peaks relate to CDF inflection points</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Chart Options on the Right -->
                                <div class="chart-options-toolbar">
                                    <div class="chart-option">
                                        <div class="tooltip-container with-icon">
                                            <label for="precision" class="option-label">
                                                <i class="fas fa-decimal"></i>
                                                Precision
                                            </label>
                                            <span class="tooltip-icon">
                                                <i class="fas fa-info"></i>
                                            </span>
                                            <div class="tooltip bottom">
                                                <strong>Decimal Precision</strong>
                                                Controls how many decimal places are shown in calculations, results, and chart tooltips.
                                                <div class="tooltip-example">2 = 0.12, 4 = 0.1234, 6 = 0.123456. Affects all numerical displays.</div>
                                            </div>
                                        </div>
                                        <select class="mini-dropdown" id="precision">
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option selected value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                        </select>
                                    </div>
                                    <div class="chart-option">
                                        <div class="tooltip-container with-icon">
                                            <label for="chartRange" class="option-label">
                                                <i class="fas fa-expand-arrows-alt"></i>
                                                Zoom
                                            </label>
                                            <span class="tooltip-icon">
                                                <i class="fas fa-info"></i>
                                            </span>
                                            <div class="tooltip bottom">
                                                <strong>Chart Zoom Level</strong>
                                                Controls the range displayed on the charts for better visibility.
                                                <div class="tooltip-example">Full shows 0-1, Focused zooms to meaningful range around mode</div>
                                            </div>
                                        </div>
                                        <select class="mini-dropdown" id="chartRange">
                                            <option value="full">Full (0-1)</option>
                                            <option selected value="focused">Focused</option>
                                            <option value="tight">Tight</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-content active" id="pdfTab">
                                <div class="chart-container">
                                    <div id="pdfChart"></div>
                                </div>
                            </div>
                            <div class="tab-content" id="cdfTab">
                                <div class="chart-container">
                                    <div id="cdfChart"></div>
                                </div>
                            </div>
                            <div class="tab-content" id="bothTab">
                                <div class="chart-container">
                                    <div id="combinedChart"></div>
                                </div>
                            </div>

                            <!-- Combined Results Row - Shaded Area + Statistics -->
                            <div class="results-row">
                                <div class="probability-visualization">
                                    <h4 style="color: var(--header-color); margin-bottom: 10px;">
                                        <i class="fas fa-area-chart"></i>
                                        Shaded Area Representation
                                    </h4>
                                    <div class="shaded-area-info">
                                        <span id="equationText" style="font-weight: bold; color: var(--header-color);">
                                            Select calculation type to see shaded area
                                        </span>
                                        <span id="percentageText" style="font-weight: bold; color: var(--header-color); display: none;">
                                        </span>
                                    </div>
                                </div>
                                
                                <!-- Embedded Results & Statistics Panel -->
                                <div class="embedded-results-panel">
                                    <h4 class="embedded-panel-title">
                                        <i class="fas fa-chart-bar"></i>
                                        Distribution Statistics
                                    </h4>
                                    <div class="embedded-stats-grid">
                                        <div class="embedded-stat-item clean-stat">
                                            <div class="stat-header">
                                                <div class="embedded-stat-label">α (Alpha)</div>
                                                <button class="copy-btn-small" onclick="copyToClipboard('alphaStat')" title="Copy value">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                            </div>
                                            <div class="embedded-stat-value" id="alphaStat">2</div>
                                        </div>
                                        <div class="embedded-stat-item clean-stat">
                                            <div class="stat-header">
                                                <div class="embedded-stat-label">β (Beta)</div>
                                                <button class="copy-btn-small" onclick="copyToClipboard('betaStat')" title="Copy value">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                            </div>
                                            <div class="embedded-stat-value" id="betaStat">3</div>
                                        </div>
                                        <div class="embedded-stat-item clean-stat">
                                            <div class="stat-header">
                                                <div class="embedded-stat-label">Mean</div>
                                                <button class="copy-btn-small" onclick="copyToClipboard('meanStat')" title="Copy value">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                            </div>
                                            <div class="embedded-stat-value" id="meanStat">0.4</div>
                                        </div>
                                        <div class="embedded-stat-item clean-stat">
                                            <div class="stat-header">
                                                <div class="embedded-stat-label">Variance</div>
                                                <button class="copy-btn-small" onclick="copyToClipboard('varianceStat')" title="Copy value">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                            </div>
                                            <div class="embedded-stat-value" id="varianceStat">0.04</div>
                                        </div>
                                        <div class="embedded-stat-item clean-stat">
                                            <div class="stat-header">
                                                <div class="embedded-stat-label">Mode</div>
                                                <button class="copy-btn-small" onclick="copyToClipboard('modeStat')" title="Copy value">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                            </div>
                                            <div class="embedded-stat-value" id="modeStat">0.25</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- About Button at bottom of panel -->
                            <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1);">
                                <button class="about-btn" onclick="openAboutModal()">
                                    <i class="fas fa-info-circle"></i>
                                    About Beta Distribution...
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div id="aboutModal" class="about-modal">
        <div class="about-content">
            <button class="close-modal" onclick="closeAboutModal()">×</button>
            <h2 style="color: var(--header-color); margin-bottom: 20px;">
                <i class="fas fa-chart-area"></i>
                About Beta Distribution
            </h2>
            <p>The Beta distribution is a continuous probability distribution defined on the interval [0,1], commonly used for modeling random variables that represent proportions or probabilities.</p>
            
            <h3 style="color: var(--header-color); margin: 20px 0 10px 0;">Key Properties:</h3>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li><strong>Domain:</strong> [0, 1]</li>
                <li><strong>Parameters:</strong> α > 0 (shape), β > 0 (shape)</li>
                <li><strong>Mean:</strong> α / (α + β)</li>
                <li><strong>Variance:</strong> (αβ) / [(α + β)²(α + β + 1)]</li>
                <li><strong>Mode:</strong> (α - 1) / (α + β - 2) for α,β > 1</li>
            </ul>

            <h3 style="color: var(--header-color); margin: 20px 0 10px 0;">Common Applications:</h3>
            <ul style="margin-left: 20px; line-height: 1.8;">
                <li>Bayesian statistics (prior/posterior distributions)</li>
                <li>Reliability engineering</li>
                <li>Project management (PERT analysis)</li>
                <li>Quality control</li>
                <li>Marketing research</li>
            </ul>
        </div>
    </div>

    <script>
        let chart;
        let currentCalcType = 'probability';

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof Highcharts === 'undefined') {
                setTimeout(() => {
                    initializeApp();
                }, 100);
            } else {
                initializeApp();
            }
        });

        function initializeApp() {
            try {
                initializeCharts();
                updateInputSection();
                updateRadioSelection();
                updateStatistics();
                calculate();

                document.getElementById('alpha').addEventListener('input', debounce(calculateWithFeedback, 250));
                document.getElementById('beta').addEventListener('input', debounce(calculateWithFeedback, 250));
                document.getElementById('precision').addEventListener('change', debounce(calculateWithFeedback, 150));
                document.getElementById('chartRange').addEventListener('change', debounce(calculateWithFeedback, 150));

                const initialXValue = document.getElementById('xValue');
                if (initialXValue) {
                    initialXValue.addEventListener('input', debounce(calculateWithFeedback, 250));
                }

                document.querySelectorAll('input[name="calcType"]').forEach(radio => {
                    radio.addEventListener('change', function() {
                        currentCalcType = this.value;
                        updateInputSection();
                        updateRadioSelection();
                        calculateWithFeedback();
                    });
                });

            } catch (error) {
                console.error('Initialization error:', error);
            }
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        function switchTab(tabName, clickedElement) {
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Add active class to selected tab
            clickedElement.classList.add('active');
        }

        function updateRadioSelection() {
            document.querySelectorAll('.radio-option').forEach(option => {
                option.classList.remove('selected', 'quantile-mode');
            });
            const selectedOption = document.querySelector(`input[value="${currentCalcType}"]`).closest('.radio-option');
            selectedOption.classList.add('selected');
            if (currentCalcType === 'quantile') {
                selectedOption.classList.add('quantile-mode');
            }

            // Update shaded area info styling
            const shadedAreaInfo = document.querySelector('.shaded-area-info');
            if (shadedAreaInfo) {
                shadedAreaInfo.classList.toggle('quantile-mode', currentCalcType === 'quantile');
            }
        }

        function updateInputSection() {
            const inputSection = document.getElementById('inputSection');
            const calcType = document.querySelector('input[name="calcType"]:checked').value;

            let html = '';

            switch(calcType) {
                case 'probability':
                    html = `
                        <div class="input-group">
                            <label>X Value (0 to 1)
                                <small style="color: #bbb; font-weight: normal; display: block; margin-top: 2px;">Value to find probability for (between 0 and 1)</small>
                            </label>
                            <input type="number" id="xValue" class="input-field" value="0.5" step="0.01" min="0" max="1" placeholder="e.g., 0.25, 0.5, 0.75">
                        </div>
                    `;
                    break;
                case 'between':
                    html = `
                        <div class="input-group">
                            <label>Bounds (0 to 1)</label>
                            <div class="input-row">
                                <input type="number" id="lowerBound" class="input-field" value="0.2" step="0.01" min="0" max="1" placeholder="Lower bound">
                                <span style="color: #bbb;">to</span>
                                <input type="number" id="upperBound" class="input-field" value="0.8" step="0.01" min="0" max="1" placeholder="Upper bound">
                            </div>
                        </div>
                    `;
                    break;
                case 'quantile':
                    html = `
                        <div class="input-group">
                            <label>Probability (0 to 1)
                                <small style="color: #bbb; font-weight: normal; display: block; margin-top: 2px;">Decimal between 0 and 1</small>
                            </label>
                            <input type="number" id="probability" class="input-field" value="0.5" step="0.01" min="0" max="1" placeholder="e.g., 0.25, 0.5, 0.95">
                        </div>
                    `;
                    break;
            }

            inputSection.innerHTML = html;

            inputSection.querySelectorAll('input').forEach(input => {
                input.addEventListener('input', debounce(calculateWithFeedback, 250));
            });
        }

        let pdfChart, cdfChart, combinedChart;

        function initializeCharts() {
            try {
                if (typeof Highcharts === 'undefined') {
                    console.error('Highcharts not loaded');
                    return;
                }

                // Set dark theme for all charts
                Highcharts.setOptions({
                    chart: {
                        backgroundColor: 'transparent',
                        style: {
                            fontFamily: 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif'
                        }
                    },
                    colors: ['#e91e63', '#3498db', '#e74c3c', '#f39c12', '#27ae60'],
                    title: {
                        style: {
                            color: 'white'
                        }
                    },
                    xAxis: {
                        gridLineColor: 'rgba(255,255,255,0.1)',
                        lineColor: 'rgba(255,255,255,0.3)',
                        tickColor: 'rgba(255,255,255,0.3)',
                        labels: {
                            style: {
                                color: 'white'
                            }
                        },
                        title: {
                            style: {
                                color: 'white'
                            }
                        }
                    },
                    yAxis: {
                        gridLineColor: 'rgba(255,255,255,0.1)',
                        lineColor: 'rgba(255,255,255,0.3)',
                        tickColor: 'rgba(255,255,255,0.3)',
                        labels: {
                            style: {
                                color: 'white'
                            }
                        },
                        title: {
                            style: {
                                color: 'white'
                            }
                        }
                    },
                    legend: {
                        itemStyle: {
                            color: 'white'
                        }
                    },
                    plotOptions: {
                        line: {
                            marker: {
                                enabled: false
                            }
                        },
                        area: {
                            marker: {
                                enabled: false
                            }
                        }
                    }
                });

                // PDF Chart
                pdfChart = Highcharts.chart('pdfChart', {
                    chart: {
                        type: 'line',
                        animation: {
                            duration: 800,
                            easing: 'easeOutQuart'
                        }
                    },
                    title: {
                        text: null
                    },
                    xAxis: {
                        title: {
                            text: 'X'
                        },
                        min: 0,
                        max: 1
                    },
                    yAxis: {
                        title: {
                            text: 'Density'
                        },
                        min: 0
                    },
                    series: [{
                        name: 'Probability Density',
                        data: [],
                        color: '#e91e63',
                        lineWidth: 3,
                        shadow: true
                    }, {
                        name: 'Shaded Area',
                        data: [],
                        type: 'area',
                        color: 'rgba(233, 30, 99, 0.4)',
                        lineWidth: 2,
                        fillOpacity: 0.3
                    }],
                    tooltip: {
                        shared: true,
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        style: {
                            color: 'white'
                        },
                        formatter: function() {
                            const precision = parseInt(document.getElementById('precision')?.value) || 4;
                            let tooltipContent = `<b>X = ${this.x.toFixed(precision)}</b><br/>`;
                            
                            this.points.forEach(point => {
                                if (point.series.name === 'Probability Density') {
                                    tooltipContent += `PDF: ${point.y.toFixed(precision)}<br/>`;
                                } else if (point.series.name === 'Shaded Area') {
                                    tooltipContent += `<span style="color: ${point.color}">Shaded: ${point.y.toFixed(precision)}</span><br/>`;
                                }
                            });
                            return tooltipContent;
                        }
                    },
                    credits: {
                        enabled: false
                    },
                    exporting: {
                        enabled: false
                    }
                });

                // CDF Chart
                cdfChart = Highcharts.chart('cdfChart', {
                    chart: {
                        type: 'line',
                        animation: {
                            duration: 800,
                            easing: 'easeOutQuart'
                        }
                    },
                    title: {
                        text: null
                    },
                    xAxis: {
                        title: {
                            text: 'X'
                        },
                        min: 0,
                        max: 1
                    },
                    yAxis: {
                        title: {
                            text: 'P(X ≤ x)'
                        },
                        min: 0,
                        max: 1
                    },
                    series: [{
                        name: 'Cumulative Probability',
                        data: [],
                        color: '#3498db',
                        lineWidth: 3,
                        shadow: true
                    }],
                    tooltip: {
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        style: {
                            color: 'white'
                        },
                        formatter: function() {
                            const precision = parseInt(document.getElementById('precision')?.value) || 4;
                            return `<b>X = ${this.x.toFixed(precision)}</b><br/>CDF: ${this.y.toFixed(precision)}`;
                        }
                    },
                    credits: {
                        enabled: false
                    },
                    exporting: {
                        enabled: false
                    }
                });

                // Combined Chart
                combinedChart = Highcharts.chart('combinedChart', {
                    chart: {
                        type: 'line',
                        animation: {
                            duration: 800,
                            easing: 'easeOutQuart'
                        }
                    },
                    title: {
                        text: null
                    },
                    xAxis: {
                        title: {
                            text: 'X'
                        },
                        min: 0,
                        max: 1
                    },
                    yAxis: [{
                        title: {
                            text: 'PDF',
                            style: {
                                color: '#e91e63'
                            }
                        },
                        min: 0,
                        labels: {
                            style: {
                                color: '#e91e63'
                            }
                        }
                    }, {
                        title: {
                            text: 'CDF',
                            style: {
                                color: '#3498db'
                            }
                        },
                        min: 0,
                        max: 1,
                        opposite: true,
                        labels: {
                            style: {
                                color: '#3498db'
                            }
                        }
                    }],
                    series: [{
                        name: 'PDF',
                        data: [],
                        color: '#e91e63',
                        lineWidth: 3,
                        shadow: true,
                        yAxis: 0
                    }, {
                        name: 'Shaded Area',
                        data: [],
                        type: 'area',
                        color: 'rgba(233, 30, 99, 0.4)',
                        lineWidth: 2,
                        fillOpacity: 0.3,
                        yAxis: 0
                    }, {
                        name: 'CDF',
                        data: [],
                        color: '#3498db',
                        lineWidth: 3,
                        shadow: true,
                        yAxis: 1
                    }],
                    tooltip: {
                        shared: true,
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        style: {
                            color: 'white'
                        },
                        formatter: function() {
                            const precision = parseInt(document.getElementById('precision')?.value) || 4;
                            let tooltipContent = `<b>X = ${this.x.toFixed(precision)}</b><br/>`;
                            
                            this.points.forEach(point => {
                                if (point.series.name === 'PDF') {
                                    tooltipContent += `PDF: ${point.y.toFixed(precision)}<br/>`;
                                } else if (point.series.name === 'Shaded Area') {
                                    tooltipContent += `<span style="color: ${point.color}">Shaded: ${point.y.toFixed(precision)}</span><br/>`;
                                } else if (point.series.name === 'CDF') {
                                    tooltipContent += `CDF: ${point.y.toFixed(precision)}<br/>`;
                                }
                            });
                            return tooltipContent;
                        }
                    },
                    credits: {
                        enabled: false
                    },
                    exporting: {
                        enabled: false
                    }
                });

            } catch (error) {
                console.error('Chart initialization error:', error);
            }
        }

        function calculateWithFeedback() {
            try {
                calculate();
            } catch (error) {
                console.error('Calculation error:', error);
            }
        }

        function calculate() {
            try {
                const alpha = parseFloat(document.getElementById('alpha').value);
                const beta = parseFloat(document.getElementById('beta').value);
                const calcType = document.querySelector('input[name="calcType"]:checked').value;

                if (alpha <= 0 || beta <= 0) {
                    return;
                }

                updateStatistics();
                updateChart(alpha, beta, calcType);

                let result = '';
                let probability = 0;

                const equationTextEl = document.getElementById('equationText');
                const percentageTextEl = document.getElementById('percentageText');

                switch(calcType) {
                    case 'probability':
                        const xValue = parseFloat(document.getElementById('xValue').value);
                        const precision = parseInt(document.getElementById('precision')?.value) || 4;
                        if (xValue >= 0 && xValue <= 1) {
                            probability = jStat.beta.cdf(xValue, alpha, beta);
                            const percentage = (probability * 100).toFixed(Math.max(2, precision-2));
                            equationTextEl.textContent = `P(X ≤ ${xValue}) = ${probability.toFixed(precision)}`;
                            percentageTextEl.textContent = `(${percentage}%)`;
                            percentageTextEl.style.display = 'inline';
                        }
                        break;
                    case 'between':
                        const lowerBound = parseFloat(document.getElementById('lowerBound').value);
                        const upperBound = parseFloat(document.getElementById('upperBound').value);
                        const precision2 = parseInt(document.getElementById('precision')?.value) || 4;
                        if (lowerBound >= 0 && upperBound <= 1 && lowerBound < upperBound) {
                            const probLower = jStat.beta.cdf(lowerBound, alpha, beta);
                            const probUpper = jStat.beta.cdf(upperBound, alpha, beta);
                            probability = probUpper - probLower;
                            const betweenPercentage = (probability * 100).toFixed(Math.max(2, precision2-2));
                            equationTextEl.textContent = `P(${lowerBound} ≤ X ≤ ${upperBound}) = ${probability.toFixed(precision2)}`;
                            percentageTextEl.textContent = `(${betweenPercentage}%)`;
                            percentageTextEl.style.display = 'inline';
                        }
                        break;
                    case 'quantile':
                        const prob = parseFloat(document.getElementById('probability').value);
                        const precision3 = parseInt(document.getElementById('precision')?.value) || 4;
                        if (prob >= 0 && prob <= 1) {
                            const quantile = jStat.beta.inv(prob, alpha, beta);
                            equationTextEl.textContent = `X = ${quantile.toFixed(precision3)}`;
                            percentageTextEl.textContent = `P(X ≤ ${quantile.toFixed(precision3)}) = ${prob.toFixed(precision3)}`;
                            percentageTextEl.style.display = 'inline';
                        }
                        break;
                }

                // Add fade animation
                if (equationTextEl) {
                    equationTextEl.classList.remove('fade-in');
                    setTimeout(() => equationTextEl.classList.add('fade-in'), 10);
                }
                if (percentageTextEl) {
                    percentageTextEl.classList.remove('fade-in');
                    setTimeout(() => percentageTextEl.classList.add('fade-in'), 10);
                }

            } catch (error) {
                console.error('Calculation error:', error);
            }
        }

        function updateChart(alpha, beta, calcType) {
            if (!pdfChart || !cdfChart || !combinedChart) return;

            const chartRange = document.getElementById('chartRange')?.value || 'focused';
            const points = 1000;
            
            // Calculate range based on selection
            let minX = 0, maxX = 1;
            if (chartRange === 'focused') {
                // Focus around the mode and significant probability mass
                const mode = alpha > 1 && beta > 1 ? (alpha - 1) / (alpha + beta - 2) : 0.5;
                const spread = Math.max(0.1, 1 / Math.sqrt(alpha + beta));
                minX = Math.max(0, mode - spread);
                maxX = Math.min(1, mode + spread);
            } else if (chartRange === 'tight') {
                // Very tight around mode
                const mode = alpha > 1 && beta > 1 ? (alpha - 1) / (alpha + beta - 2) : 0.5;
                const spread = Math.max(0.05, 0.5 / Math.sqrt(alpha + beta));
                minX = Math.max(0, mode - spread);
                maxX = Math.min(1, mode + spread);
            }

            const pdfData = [];
            const cdfData = [];
            const shadedPdfData = [];
            
            for (let i = 0; i <= points; i++) {
                const x = minX + (i / points) * (maxX - minX);
                const pdfY = jStat.beta.pdf(x, alpha, beta);
                const cdfY = jStat.beta.cdf(x, alpha, beta);
                
                pdfData.push([x, pdfY]);
                cdfData.push([x, cdfY]);

                // Determine if this point should be in the shaded area
                let inShadedArea = false;

                switch(calcType) {
                    case 'probability':
                        const xValue = parseFloat(document.getElementById('xValue')?.value) || 0.5;
                        inShadedArea = x <= xValue;
                        break;
                    case 'between':
                        const lowerBound = parseFloat(document.getElementById('lowerBound')?.value) || 0.2;
                        const upperBound = parseFloat(document.getElementById('upperBound')?.value) || 0.8;
                        inShadedArea = x >= lowerBound && x <= upperBound;
                        break;
                    case 'quantile':
                        const probability = parseFloat(document.getElementById('probability')?.value) || 0.5;
                        const quantileValue = jStat.beta.inv(probability, alpha, beta);
                        inShadedArea = x <= quantileValue;
                        break;
                }

                if (inShadedArea) {
                    shadedPdfData.push([x, pdfY]);
                }
            }

            // Update PDF chart
            if (pdfChart && pdfChart.series) {
                try {
                    pdfChart.series[0].setData(pdfData, false);
                    if (pdfChart.series[1]) {
                        pdfChart.series[1].setData(shadedPdfData, false);
                        const shadedColor = calcType === 'quantile' ? 'rgba(155, 89, 182, 0.4)' : 'rgba(233, 30, 99, 0.4)';
                        pdfChart.series[1].update({
                            color: shadedColor,
                            fillOpacity: 0.3
                        }, false);
                    }
                    pdfChart.xAxis[0].setExtremes(minX, maxX, false);
                    pdfChart.redraw();
                } catch (error) {
                    console.warn('Error updating PDF chart:', error);
                }
            }

            // Update CDF chart
            if (cdfChart && cdfChart.series) {
                try {
                    cdfChart.series[0].setData(cdfData, false);
                    cdfChart.xAxis[0].setExtremes(minX, maxX, false);
                    cdfChart.redraw();
                } catch (error) {
                    console.warn('Error updating CDF chart:', error);
                }
            }

            // Update Combined chart
            if (combinedChart && combinedChart.series) {
                try {
                    combinedChart.series[0].setData(pdfData, false);
                    if (combinedChart.series[1]) {
                        combinedChart.series[1].setData(shadedPdfData, false);
                        const shadedColor = calcType === 'quantile' ? 'rgba(155, 89, 182, 0.4)' : 'rgba(233, 30, 99, 0.4)';
                        combinedChart.series[1].update({
                            color: shadedColor,
                            fillOpacity: 0.3
                        }, false);
                    }
                    if (combinedChart.series[2]) {
                        combinedChart.series[2].setData(cdfData, false);
                    }
                    combinedChart.xAxis[0].setExtremes(minX, maxX, false);
                    combinedChart.redraw();
                } catch (error) {
                    console.warn('Error updating Combined chart:', error);
                }
            }
        }

        function updateStatistics() {
            const alpha = parseFloat(document.getElementById('alpha').value);
            const beta = parseFloat(document.getElementById('beta').value);
            const precision = parseInt(document.getElementById('precision')?.value) || 4;

            if (alpha <= 0 || beta <= 0) return;

            const mean = alpha / (alpha + beta);
            const variance = (alpha * beta) / ((alpha + beta) * (alpha + beta) * (alpha + beta + 1));
            const mode = alpha > 1 && beta > 1 ? (alpha - 1) / (alpha + beta - 2) : 'N/A';

            document.getElementById('alphaStat').textContent = alpha.toFixed(Math.min(2, precision));
            document.getElementById('betaStat').textContent = beta.toFixed(Math.min(2, precision));
            document.getElementById('meanStat').textContent = mean.toFixed(precision);
            document.getElementById('varianceStat').textContent = variance.toFixed(precision);
            document.getElementById('modeStat').textContent = typeof mode === 'number' ? mode.toFixed(precision) : mode;
        }

        function reloadCalculator() {
            document.getElementById('alpha').value = 2;
            document.getElementById('beta').value = 3;
            document.querySelector('input[value="probability"]').checked = true;
            currentCalcType = 'probability';
            updateInputSection();
            updateRadioSelection();
            calculateWithFeedback();
        }

        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                const text = element.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    // Visual feedback
                    const originalBg = element.style.background;
                    element.style.background = 'rgba(39, 174, 96, 0.3)';
                    setTimeout(() => {
                        element.style.background = originalBg;
                    }, 300);
                });
            }
        }

        function openAboutModal() {
            document.getElementById('aboutModal').classList.add('active');
        }

        function closeAboutModal() {
            document.getElementById('aboutModal').classList.remove('active');
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('aboutModal');
            if (event.target === modal) {
                closeAboutModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeAboutModal();
            }
        });
    </script>
</body>
</html> 
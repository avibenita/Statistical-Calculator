<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Statistical Calculators Hub</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    :root {
      --surface-0: #0c1624; /* page background */
      --surface-1: #1a1f2e; /* cards / panels - warmer dark gray-blue */
      --surface-2: #242938; /* chart / results boxes */
      --border: #2d3748; /* softer border color */
      --accent-1: rgb(255,165,120); /* warm orange */
      --accent-2: rgb(120,200,255); /* cyan blue */
      --text-primary: #ffffff;
      --text-secondary: rgba(255,255,255,0.8);
      --text-muted: rgba(255,255,255,0.6);
      --panel-bg: var(--surface-1);
      --panel-radius: 10px;
      --panel-shadow: 0px 4px 20px rgba(0, 0, 0, 0.4);
      --header-color: rgb(255,165,120);
      --pad: 12px;
      --highlight-bg: rgba(255, 165, 120, 0.2);
      --highlight-text: var(--accent-1);
      --sidebar-width: 280px;
      --sidebar-bg: linear-gradient(135deg, var(--surface-1) 0%, var(--surface-2) 100%);
      --main-bg: var(--surface-0);
      --color-text: var(--text-primary);
      --color-link: var(--accent-1);
      --color-link-hover: var(--accent-2);
      --color-primary: var(--accent-2);
      --border-radius: var(--panel-radius);
      --shadow: var(--panel-shadow);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Enhanced Wix-optimized container sizing */
    body, html {
      height: 100%;
      min-height: 100%;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      background: var(--surface-0);
      color: var(--text-primary);
    }

    .hub {
      display: flex;
      height: 100%;
      min-height: 100%;
      max-height: 100%;
      position: relative;
    }

    /* Iframe-specific optimizations */
    .hub.in-iframe {
      height: auto;
      min-height: 950px; /* Match common Wix iframe heights */
      max-height: none;
    }

    /* Dynamic height adjustment for Wix containers */
    @media (max-height: 800px) {
      .hub {
        height: 100%;
        min-height: 100%;
      }
      
      .hub.in-iframe {
        min-height: 600px;
      }
    }

    @media (max-height: 600px) {
      .hub {
        height: 100%;
        min-height: 500px;
      }
      
      .hub.in-iframe {
        min-height: 500px;
      }
    }
.headerh1 {
    font-size: 1.3rem;
    color: var(--header-color);
    margin-bottom: 8px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
}
    /* Enhanced sidebar responsiveness */
    aside {
      width: var(--sidebar-width);
      min-width: 250px;
      background: var(--sidebar-bg);
      color: var(--text-primary);
      padding: 1.2rem;
      overflow-y: auto;
      box-shadow: var(--shadow);
      z-index: 10;
      flex-shrink: 0;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), width 0.4s ease;
      border-right: 1px solid var(--border);
      position: relative;
    }

    /* Desktop: sidebar can collapse */
    aside.collapsed {
      transform: translateX(calc(-1 * var(--sidebar-width)));
      position: absolute;
      height: 100%;
      left: 0;
    }

    /* Sidebar Collapse Toggle Button - Always Visible */
    .sidebar-toggle-btn {
      position: fixed;
      top: 50%;
      left: calc(var(--sidebar-width) - 20px);
      transform: translateY(-50%);
      width: 40px;
      height: 80px;
      background: linear-gradient(145deg, var(--accent-1), rgba(255, 165, 120, 0.8));
      border: none;
      border-radius: 0 8px 8px 0;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      box-shadow: 2px 0 8px rgba(0, 0, 0, 0.3);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1001;
    }

    .sidebar-toggle-btn:hover {
      background: linear-gradient(145deg, rgba(255, 165, 120, 1), var(--accent-1));
      left: calc(var(--sidebar-width) - 18px);
      box-shadow: 2px 0 12px rgba(255, 165, 120, 0.5);
    }

    .sidebar-toggle-btn i {
      transition: transform 0.3s ease;
    }

    /* When sidebar is collapsed, button moves to left edge */
    aside.collapsed ~ * .sidebar-toggle-btn,
    body:has(aside.collapsed) .sidebar-toggle-btn {
      left: 0px;
      border-radius: 0 8px 8px 0;
    }

    body:has(aside.collapsed) .sidebar-toggle-btn:hover {
      left: 2px;
    }

    body:has(aside.collapsed) .sidebar-toggle-btn i {
      transform: rotate(180deg);
    }

    /* Pulsing animation for initial hint */
    @keyframes pulse-hint {
      0%, 100% { transform: translateY(-50%) scale(1); }
      50% { transform: translateY(-50%) scale(1.1); }
    }

    .sidebar-toggle-btn.hint {
      animation: pulse-hint 2s ease-in-out 3;
    }

    /* Better scrollbar styling */
    aside::-webkit-scrollbar {
      width: 6px;
    }

    aside::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
    }

    aside::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
    }

    aside::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.5);
    }

    aside h2 {
      font-size: 1.4rem;
      margin-bottom: 1.5rem;
      color: var(--color-link);
      text-align: center;
      font-weight: 600;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    /* Navigation Groups */
    details.group {
      margin-bottom: 1.2rem;
      background: var(--surface-2);
      border-radius: var(--border-radius);
      border: 1px solid var(--border);
      overflow: hidden;
    }

    summary {
      cursor: pointer;
      font-weight: 600;
      padding: 0.8rem 1rem;
      list-style: none;
      background: var(--surface-1);
      color: var(--text-primary);
      transition: all 0.3s ease;
      border-left: 4px solid transparent;
    }

    summary i {
      margin-right: 8px;
      color: var(--accent-1);
      font-size: 1rem;
    }

    summary:hover {
      background: var(--surface-2);
      border-left-color: var(--accent-1);
    }

    summary::-webkit-details-marker {
      display: none;
    }

    summary::after {
      content: '‚ñ∂';
      float: right;
      transition: transform 0.3s ease;
      font-size: 0.8rem;
    }

    details[open] > summary::after {
      transform: rotate(90deg);
    }

    details.subgroup {
      margin: 0.5rem 0;
      background: var(--surface-0);
      border: 1px solid var(--border);
      border-radius: 6px;
    }

    details.subgroup summary {
      font-size: 0.95rem;
      padding: 0.6rem 1rem;
      font-weight: 500;
      background: var(--surface-1);
      color: var(--text-secondary);
    }

    details.subgroup summary:hover {
      background: var(--surface-2);
      color: var(--text-primary);
    }

/* only main group summaries get the colored left-border on hover */
details.group > summary:hover {
  background: var(--surface-2);
  border-left-color: var(--accent-1);
}

/* remove left-border on hovered or active sub-items */
details.subgroup > summary,
details.subgroup > summary:hover {
  /* border-left-color: var(--color-link);*/
}

a:hover {
  color: var(--accent-1);
  background: var(--highlight-bg);
  transform: translateX(4px);
}

a.active {
  color: var(--accent-1);
  background: var(--highlight-bg);
  font-weight: 600;
  border-left-color: var(--accent-1);
}








    /* Navigation Lists */
    ul {
      list-style: none;
      padding: 0.5rem 0;
      margin: 0;
    }

    li {
      margin: 0;
      border-bottom: 1px solid var(--border);
    }

    li:last-child {
      border-bottom: none;
    }

    a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
      display: block;
      padding: 0.7rem 1.2rem;
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
      position: relative;
    }

    a:hover {
      color: var(--accent-1);
      background: var(--highlight-bg);
      border-left-color: var(--accent-1);
      transform: translateX(4px);
    }

    a.active {
      color: var(--accent-1);
      background: var(--highlight-bg);
      border-left-color: var(--accent-1);
      font-weight: 600;
    }

    /* Enhanced main content area - Wix optimized */
    main {
      flex: 1;
      background: var(--main-bg);
      position: relative;
      overflow: hidden;
      min-width: 300px;
      display: flex;
      flex-direction: column;
    }

    /* Loading indicator */
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: none;
      flex-direction: column;
      align-items: center;
      z-index: 5;
    }

    .loading.show {
      display: flex;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--color-primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      color: var(--color-text);
      font-size: 1rem;
      font-weight: 500;
    }

    /* Awaiting Overlay - Initial Load State */
    .awaiting-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(40, 44, 57, 0.98);
      z-index: 500000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      opacity: 1;
      transition: opacity 0.4s ease-out;
    }

    .awaiting-overlay.hidden {
      opacity: 0;
      pointer-events: none;
      display: none;
    }

    @keyframes ellipsis {
      0% { content: ''; }
      25% { content: '.'; }
      50% { content: '..'; }
      75% { content: '...'; }
      100% { content: ''; }
    }

    @keyframes bounceHorizontal {
      0%, 100% { transform: translateX(0); opacity: 0.7; }
      50% { transform: translateX(-10px); opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .loading-dots::after {
      content: '';
      animation: ellipsis 1.5s infinite;
    }

    .awaiting-content {
      animation: fadeIn 0.6s ease-out;
    }

    .awaiting-title {
      text-align: center;
      color: #e0e6ed;
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 30px;
    }

    .awaiting-instructions {
      text-align: left;
      color: #8b95a5;
      font-size: 14px;
      line-height: 1.8;
      max-width: 420px;
      padding: 0 20px;
    }

    .awaiting-instructions div {
      margin-bottom: 8px;
    }

    .awaiting-instructions strong {
      color: #ffa500;
    }

    .awaiting-icon {
      margin-top: 30px;
      text-align: center;
      color: #ffa500;
      font-size: 3rem;
      animation: bounceHorizontal 2s ease-in-out infinite;
    }

    /* Enhanced iframe styles - Wix optimized with dynamic sizing */
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: white;
      transition: opacity 0.3s ease;
      flex: 1;
    }

    iframe.loading {
      opacity: 0.7;
    }

    /* Mobile toggle button - HIDDEN (using only sidebar edge button) */
    .mobile-toggle {
      display: none !important;
    }

    .mobile-toggle:hover {
      /* Not used - mobile toggle hidden */
    }

    /* Enhanced calculator info bar */
    .calc-info {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(52, 152, 219, 0.95);
      color: white;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      font-weight: 500;
      text-align: center;
      z-index: 5;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transform: translateY(-100%);
      transition: transform 0.3s ease;
    }

    .calc-info.show {
      transform: translateY(0);
    }

    /* Responsive breakpoints - Enhanced for Wix */
    @media (max-width: 1200px) {
      :root {
        --sidebar-width: 240px;
      }
    }

    /* Enhanced tablet optimizations */
    @media (max-width: 1024px) {
      :root {
        --sidebar-width: 220px;
      }

      aside h2 {
        font-size: 1.2rem;
      }

      summary {
        padding: 0.7rem 0.8rem;
        font-size: 0.9rem;
      }

      a {
        font-size: 0.85rem;
        padding: 0.6rem 1rem;
      }
    }

    /* Enhanced mobile responsive - Wix optimized */
    @media (max-width: 768px) {
      /* Mobile uses same sidebar collapse mechanism */
      aside {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        width: var(--sidebar-width);
        z-index: 100;
      }

      aside.collapsed {
        transform: translateX(calc(-1 * var(--sidebar-width)));
      }

      /* Button adjusts for mobile */
      .sidebar-toggle-btn {
        left: calc(var(--sidebar-width) - 20px);
      }

      body:has(aside.collapsed) .sidebar-toggle-btn {
        left: 0px;
      }

      main {
        width: 100%;
        margin-left: 0;
        height: 100%;
      }

      .hub.in-iframe main {
        height: auto;
        min-height: 950px;
      }

      .calc-info {
        top: 4rem;
      }

      /* Enhanced mobile overlay - works for all screen sizes */
      .mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 50;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .mobile-overlay.show {
        opacity: 1;
        visibility: visible;
      }
    }
    @media (max-width: 480px) {
      :root {
        --sidebar-width: 100vw;
      }

      .mobile-toggle {
        top: 0.5rem;
        left: 0.5rem;
        padding: 0.5rem;
        font-size: 1rem;
      }

      aside {
        width: 100vw;
      }

      .calc-info {
        top: 3.5rem;
        font-size: 0.8rem;
      }

      aside h2 {
        font-size: 1.1rem;
        margin-bottom: 1rem;
      }

      summary {
        padding: 0.6rem 0.7rem;
        font-size: 0.85rem;
      }

      a {
        font-size: 0.8rem;
        padding: 0.5rem 0.8rem;
      }
    }

    /* Enhanced Wix-specific optimizations */
    .wix-container {
      height: 100%;
      min-height: 100%;
      max-height: 100%;
      overflow: hidden;
    }

    /* Iframe embedding optimizations */
    body.in-wix-iframe {
      overflow-y: auto;
    }

    body.in-wix-iframe .hub {
      overflow-y: auto;
    }

    body.in-wix-iframe .wix-container {
      height: auto;
      min-height: 950px;
      max-height: none;
      overflow: visible;
    }

    /* Wix Live site specific optimizations */
    body.wix-live {
      overflow: hidden;
    }

    body.wix-live .hub {
      position: relative;
      overflow: hidden;
    }

    /* Force mobile layout for Wix live sites */
    body.force-wix-mobile .mobile-toggle {
      display: block !important;
      position: fixed !important;
      z-index: 1000 !important;
    }

    body.force-wix-mobile aside {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      height: 100% !important;
      width: var(--sidebar-width) !important;
      transform: translateX(-100%) !important;
      transition: transform 0.3s ease !important;
      z-index: 100 !important;
    }

    body.force-wix-mobile aside.open {
      transform: translateX(0) !important;
    }

    body.force-wix-mobile main {
      width: 100% !important;
      margin-left: 0 !important;
    }

    body.force-wix-mobile .mobile-overlay {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      background: rgba(0, 0, 0, 0.5) !important;
      z-index: 50 !important;
      opacity: 0 !important;
      visibility: hidden !important;
      transition: all 0.3s ease !important;
    }

    body.force-wix-mobile .mobile-overlay.show {
      opacity: 1 !important;
      visibility: visible !important;
    }

    /* Force mobile layout regardless of screen size in Wix live */
    .hub.force-mobile-layout {
      position: relative !important;
    }

    .hub.force-mobile-layout aside {
      position: fixed !important;
      transform: translateX(-100%) !important;
    }

    /* Ensure iframe content fits properly */
    @media (max-width: 768px) {
      .hub.in-iframe {
        min-height: 700px;
      }

      .hub.in-iframe aside {
        height: 700px;
      }

      .hub.in-iframe main {
        min-height: 700px;
      }
    }

    @media (max-width: 480px) {
      .hub.in-iframe {
        min-height: 600px;
      }

      .hub.in-iframe aside {
        height: 600px;
      }

      .hub.in-iframe main {
        min-height: 600px;
      }

      /* Force mobile behavior on very small screens in Wix live */
      body.wix-live {
        overflow: hidden !important;
      }

      body.wix-live .mobile-toggle {
        display: block !important;
      }

      body.wix-live aside {
        position: fixed !important;
        transform: translateX(-100%) !important;
      }
    }

    /* Additional Wix live mobile optimizations for any screen size */
    @media (max-width: 800px) {
      body.wix-live .mobile-toggle {
        display: block !important;
        position: fixed !important;
        z-index: 1000 !important;
      }

      body.wix-live.force-wix-mobile aside {
        position: fixed !important;
        transform: translateX(-100%) !important;
        width: 100vw !important;
        max-width: 320px !important;
      }
    }

    /* Handle dynamic Wix container heights */
    @media (max-height: 500px) {
      .hub {
        height: 100vh;
        min-height: 400px;
      }
      
      .mobile-toggle {
        top: 0.25rem;
        left: 0.25rem;
        padding: 0.4rem;
      }
    }

    /* Ultra-wide screen support */
    @media (min-width: 1600px) {
      :root {
        --sidebar-width: 320px;
      }
    }

    /* High DPI / Retina display optimizations */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
      .mobile-toggle {
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      aside {
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      }
    }

    /* Landscape mobile optimizations */
    @media (max-height: 500px) and (orientation: landscape) {
      .hub {
        height: 100vh;
      }
      
      aside {
        padding: 0.8rem;
      }
      
      aside h2 {
        font-size: 1rem;
        margin-bottom: 0.8rem;
      }
      
      summary {
        padding: 0.5rem 0.6rem;
        font-size: 0.8rem;
      }
      
      a {
        font-size: 0.75rem;
        padding: 0.4rem 0.6rem;
      }
    }

    /* Accessibility improvements */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Print styles */
    @media print {
      .mobile-toggle,
      aside,
      .calc-info {
        display: none !important;
      }
      
      main {
        width: 100% !important;
      }
    }

    /* 1. Always clear out any left-border on group summaries by default */
      details.group > summary {
        /* border-left-color: var(--color-link);*/
      }

      /* 2. Highlight only when hovered or when the group has an ‚Äúactive‚Äù flag */
      details.group:hover > summary,
      details.group.active > summary {
        background: rgba(255, 255, 255, 0.15);
       /* border-left-color: var(--color-link);*/
      }

      /* 3. Never show a left-border on any subgroup summaries */
      details.subgroup > summary {
        /* border-left-color: var(--color-link);*/
      }
      details.subgroup > summary:hover {
        background: rgba(255, 255, 255, 0.1);
      }
/* 1. Ensure every group starts without a colored border */
details.group > summary {
  border-left: 4px solid transparent;
}

/* 2. When a group contains an active sub-link, ‚Äúlight up‚Äù its summary */
details.group:has(a.active) > summary {
  border-left-color: var(--color-link);
  background: rgba(255, 255, 255, 0.15);
}

/* 3. Keep sub-group summaries always clear */
details.subgroup > summary {
  border-left-color: transparent !important;
}

  </style>



</head>
<body class="wix-container wix-safe">
  <button class="mobile-toggle" onclick="toggleSidebar()">
    <span id="toggle-icon">‚ò∞</span>
  </button>

  <div class="mobile-overlay" onclick="closeSidebar()"></div>

  <!-- Sidebar Collapse/Expand Button - Always Visible -->
  <button class="sidebar-toggle-btn hint" onclick="toggleSidebarCollapse()" id="sidebarToggleBtn" title="Collapse sidebar">
    <i class="fas fa-chevron-left"></i>
  </button>

  <div class="hub">
    <aside id="sidebar">

<div  class="headerh1" >
   <br>
  Distribution Calculators

  <br>
</div>
      <details class="group" data-category="continuous">
        <summary><i class="fas fa-chart-line"></i> Continuous Distributions</summary>
          <ul>
            <li>
              <a href="https://avibenita.github.io/Statistical-Calculator/Normal.html"
                 data-src
                 data-name="Normal Distribution"
                 target="_blank">
                Normal Distribution
              </a>
            </li>
            <li>
              <a href="https://avibenita.github.io/Statistical-Calculator/UniformDistribution.html"
                 data-src
                 data-name="Uniform Distribution"
                 target="_blank">
                Uniform Distribution
              </a>
            </li>
            <li>
              <a href="https://avibenita.github.io/Statistical-Calculator/ExponentialDistribution.html"
                 data-src
                 data-name="Exponential Distribution"
                 target="_blank">
                Exponential Distribution
              </a>
            </li>
            <li>
              <a href="https://avibenita.github.io/Statistical-Calculator/LogNormalDistribution.html"
                 data-src
                 data-name="Log-Normal Distribution"
                 target="_blank">
                Log-Normal Distribution
              </a>
            </li>
            <li>
              <a href="https://avibenita.github.io/Statistical-Calculator/WeibullDistribution.html"
                 data-src
                 data-name="Weibull Distribution"
                 target="_blank">
                Weibull Distribution
              </a>
            </li>
            <li>
              <a href="https://avibenita.github.io/Statistical-Calculator/BetaDistribution.html"
                 data-src
                 data-name="Beta Distribution"
                 target="_blank">
                Beta Distribution
              </a>
            </li>
        </ul>
      </details>

      <details class="group" data-category="discrete">
        <summary><i class="fas fa-cubes"></i> Discrete Distributions</summary>
        <ul>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/BinomialDistribution.html"
               data-src
               data-name="Binomial Distribution"
               target="_blank">
              Binomial Distribution
            </a>
          </li>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/PoissonDistribution.html"
               data-src
               data-name="Poisson Distribution"
               target="_blank">
              Poisson Distribution
            </a>
          </li>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/GeometricDistribution.html"
               data-src
               data-name="Geometric Distribution"
               target="_blank">
              Geometric Distribution
            </a>
          </li>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/HypergeometricDistribution.html"
               data-src
               data-name="Hypergeometric Distribution"
               target="_blank">
              Hypergeometric Distribution
            </a>
          </li>
        </ul>
      </details>

      <details class="group" data-category="testing">
        <summary><i class="fas fa-flask"></i> H0 Testing Distributions</summary>
        <ul>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/ChiSquare.html"
               data-src
               data-name="Chi-Square Distribution"
               target="_blank">
              Chi-Square Distribution
            </a>
          </li>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/TDistribution.html"
               data-src
               data-name="Student's t-Distribution"
               target="_blank">
              Student's t-Distribution
            </a>
          </li>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/FDistribution.html"
               data-src
               data-name="F-Distribution"
               target="_blank">
              F-Distribution
            </a>
          </li>
        </ul>
      </details>

<div  class="headerh1" >
   <br>
  Specialized Calculators
  <br>
 </div>
      <details class="group" data-category="erlang">
        <summary><i class="fas fa-phone"></i> Erlang-C Calculator</summary>
        <ul>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/Erlang_SimpleAndSimulation.html"
               data-src
               data-name="Erlang-C Calculator"
               target="_blank">
              Erlang-C Calculator
            </a>
          </li>
        </ul>
      </details>
 <details class="group" data-category="power">
        <summary><i class="fas fa-bolt"></i> Power & Sample Size</summary>
        <ul>
          <li>
            <a href="https://github.com/avibenita/Statistical-Calculator/blob/main/SampleSizeCalculator.html"
               data-src
               data-name="Compute N for Target Power"
               target="_blank">
              Compute N for Target Power
            </a>
          </li>
          <li>
            <a href="https://avibenita.github.io/Statistical-Calculator/EralngC-Calculator/SimpleErlangC_server.py"
               data-src
               data-name="Compute N for Target Œ±"
               target="_blank">
              Compute N for Target Œ±
            </a>
          </li>
        </ul>
      </details>

<details class="group" data-category="cpk">
        <summary><i class="fas fa-chart-bar"></i> CPk Calculator</summary>
        <ul>
          <li>
            <a href="https://github.com/avibenita/Statistical-Calculator/blob/main/CpkCalculator.html"
               data-src
               data-name="CPk Calculator"
               target="_blank">
              CPk Calculator
            </a>
          </li>
        </ul>
      </details>


    </aside>






    <main>
      <!-- Awaiting Overlay - Shown on Initial Load (only covers main area) -->
      <div class="awaiting-overlay" id="awaitingOverlay">
        <div class="awaiting-content">
          <div class="awaiting-title">
            Awaiting Calculator Selection<span class="loading-dots" style="display: inline-block; width: 30px;"></span>
          </div>
          <div class="awaiting-instructions">
            <div>üìä <strong>Browse the calculators</strong> in the left sidebar</div>
            <div>üéØ <strong>Click any calculator</strong> to load it in the main area</div>
            <div>‚ö° <strong>Results appear instantly</strong> once you select a calculator</div>
            <div>üîÑ Use the <strong>menu</strong> to explore different statistical distributions</div>
          </div>
          <div class="awaiting-icon">
            ‚Üê
          </div>
        </div>
      </div>

      <div class="calc-info" id="calc-info">
        <!-- Empty initially - will show calculator name when selected -->
      </div>

      <div class="loading" id="loading">
        <div class="spinner"></div>
        <div class="loading-text">Loading Calculator...</div>
      </div>

      <iframe id="calcFrame"
              src="about:blank"
              allow="fullscreen"
              sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox">
      </iframe>
    </main>
  </div>

  <script>
    let currentCalc = null; // No calculator selected initially

    // Hide awaiting overlay when iframe loads successfully
    function hideAwaitingOverlay() {
      const overlay = document.getElementById('awaitingOverlay');
      if (overlay) {
        overlay.classList.add('hidden');
        console.log('‚úÖ Awaiting overlay hidden - calculator loaded');
      }
    }

    // Show awaiting overlay
    function showAwaitingOverlay() {
      const overlay = document.getElementById('awaitingOverlay');
      if (overlay) {
        overlay.classList.remove('hidden');
        console.log('üëÅÔ∏è Awaiting overlay shown');
      }
    }

    // Initialize with Normal Distribution and iframe detection
    document.addEventListener('DOMContentLoaded', function() {
      // Setup iframe event listeners
      const iframe = document.getElementById('calcFrame');
      if (iframe) {
        iframe.addEventListener('load', hideLoading);
        iframe.addEventListener('error', showError);
      }

      // Enhanced detection for Wix environment (editor vs live)
      const isInIframe = window.self !== window.top;
      
      // More robust Wix detection
      let isWixEditor = false;
      let isWixLive = false;
      
      if (isInIframe) {
        try {
          // Try to detect Wix editor
          const parentUrl = window.parent.location.href || '';
          const referrer = document.referrer || '';
          
          isWixEditor = parentUrl.includes('wix.com') || 
                       parentUrl.includes('editorx.com') ||
                       referrer.includes('wix.com') ||
                       referrer.includes('editor.wix.com');
          
          // If we're in an iframe but not detected as editor, likely live site
          isWixLive = !isWixEditor;
          
        } catch (e) {
          // Cross-origin restrictions - likely a live site
          isWixLive = true;
          
          // Additional detection through user agent or other indicators
          const userAgent = navigator.userAgent || '';
          const hasWixIndicators = document.referrer.includes('.wixsite.com') ||
                                  document.referrer.includes('.wix.com') ||
                                  window.location.ancestorOrigins?.[0]?.includes('wix');
          
          if (hasWixIndicators) {
            isWixLive = true;
          }
        }
      }

      if (isInIframe) {
        document.body.classList.add('in-wix-iframe');
        document.querySelector('.hub').classList.add('in-iframe');
        
        // Add specific classes for different Wix environments
        if (isWixEditor) {
          document.body.classList.add('wix-editor');
        }
        if (isWixLive) {
          document.body.classList.add('wix-live');
        }
        
        // Optimize for iframe embedding with environment-specific adjustments
        optimizeForIframeEmbedding(isWixEditor, isWixLive);
      }

      // Don't auto-load any calculator - let user choose from sidebar
      console.log('üìä Ready - please select a calculator from the sidebar');
      
      // Setup accordion behavior for categories
      setupCategoryAccordion();
    });

    // Optimize interface for iframe embedding with Wix-specific handling
    function optimizeForIframeEmbedding(isWixEditor = false, isWixLive = false) {
      const hub = document.querySelector('.hub');
      const sidebar = document.getElementById('sidebar');
      const isMobile = window.innerWidth <= 768;
      
      // Wix Live sites need more aggressive mobile detection
      if (isWixLive) {
        // Force mobile behavior on Wix live sites for better compatibility
        const forceWixMobile = window.innerWidth <= 800; // Slightly larger threshold for Wix
        
        if (forceWixMobile) {
          document.body.classList.add('force-wix-mobile');
          hub.classList.add('force-mobile-layout');
          closeSidebar();
          
          // Ensure mobile layout is applied immediately
          if (sidebar) {
            sidebar.style.transform = 'translateX(-100%)';
          }
        }
        
        // Add Wix live-specific optimizations
        if (hub) {
          hub.style.position = 'relative';
          hub.style.overflow = 'hidden';
        }
      }
      
      // Standard mobile behavior for editor and direct access
      if (isMobile && !isWixLive) {
        closeSidebar();
      }

      // Adjust heights for iframe constraints
      if (hub && sidebar) {
        // Ensure sidebar scrolling works in iframe
        sidebar.style.maxHeight = '100%';
        sidebar.style.overflowY = 'auto';
        
        // Wix live needs additional height management
        if (isWixLive) {
          hub.style.minHeight = '950px';
          sidebar.style.height = '950px';
        }
      }

      // Enhanced resize monitoring for Wix live
      if (isWixLive) {
        let wixResizeTimeout;
        const handleWixResize = () => {
          clearTimeout(wixResizeTimeout);
          wixResizeTimeout = setTimeout(() => {
            const currentWidth = window.innerWidth;
            const shouldBeMobile = currentWidth <= 800;
            
            if (shouldBeMobile) {
              document.body.classList.add('force-wix-mobile');
              hub.classList.add('force-mobile-layout');
              closeSidebar();
            } else {
              document.body.classList.remove('force-wix-mobile');
              hub.classList.remove('force-mobile-layout');
            }
          }, 100);
        };
        
        window.addEventListener('resize', handleWixResize);
        window.addEventListener('orientationchange', () => {
          setTimeout(handleWixResize, 300);
        });
      }

      // Send ready signal to parent if possible
      try {
        window.parent.postMessage({
          type: 'iframe-ready',
          height: document.body.scrollHeight,
          environment: isWixEditor ? 'wix-editor' : (isWixLive ? 'wix-live' : 'iframe')
        }, '*');
      } catch (e) {
        // Cross-origin restrictions, silently ignore
      }
    }

    // Load calculators inside iframe on click
    document.querySelectorAll('[data-src]').forEach(el => {
      el.addEventListener('click', e => {
        e.preventDefault();

        // Remove active class from all links
        document.querySelectorAll('[data-src]').forEach(link => {
          link.classList.remove('active');
        });

        // Add active class to clicked link
        el.classList.add('active');

        // Show awaiting overlay briefly during transition
        showAwaitingOverlay();

        // Show loading
        showLoading();

        // Update iframe source
        const iframe = document.getElementById('calcFrame');
        iframe.src = el.getAttribute('href');

        // Update calculator info
        const calcName = el.getAttribute('data-name');
        currentCalc = calcName;
        showCalcInfo(calcName);

        // Collapse sidebar after selecting a calculator (smooth animation)
        setTimeout(() => {
          const sidebar = document.getElementById('sidebar');
          if (!sidebar.classList.contains('collapsed')) {
            toggleSidebarCollapse();
          }
        }, 300);
      });
    });

    // Loading functions
    function showLoading() {
      const loading = document.getElementById('loading');
      const iframe = document.getElementById('calcFrame');
      loading.classList.add('show');
      iframe.classList.add('loading');
    }

    function hideLoading() {
      setTimeout(() => {
        const loading = document.getElementById('loading');
        const iframe = document.getElementById('calcFrame');
        loading.classList.remove('show');
        iframe.classList.remove('loading');
        
        // Only hide the awaiting overlay if an actual calculator is loaded (not blank)
        if (iframe.src && iframe.src !== 'about:blank' && !iframe.src.includes('about:blank')) {
          hideAwaitingOverlay();
        }
      }, 500); // Small delay for smooth transition
    }

    function showError() {
      const loading = document.getElementById('loading');
      loading.innerHTML = `
        <div style="color: #e74c3c; text-align: center;">
          <div style="font-size: 2rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
          <div>Failed to load calculator</div>
          <div style="font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.7;">Please check your internet connection</div>
        </div>
      `;
      loading.classList.add('show');
    }

    // Calculator info display
    function showCalcInfo(name) {
      const calcInfo = document.getElementById('calc-info');
      calcInfo.textContent = `Loading ${name}...`;
      calcInfo.classList.add('show');

      setTimeout(() => {
        calcInfo.textContent = `üìä ${name}`;
      }, 1000);

      setTimeout(() => {
        calcInfo.classList.remove('show');
      }, 3000);
    }

    // Accordion behavior - only one category open at a time
    function setupCategoryAccordion() {
      const allCategories = document.querySelectorAll('details.group');
      
      allCategories.forEach(category => {
        category.addEventListener('toggle', function() {
          if (this.open) {
            // Close all other categories
            allCategories.forEach(otherCategory => {
              if (otherCategory !== this && otherCategory.open) {
                otherCategory.open = false;
              }
            });
            console.log('üìÇ Category opened:', this.getAttribute('data-category'));
          }
        });
      });
      
      console.log('‚úÖ Accordion behavior initialized for', allCategories.length, 'categories');
    }

    // Sidebar collapse/expand - single unified mechanism
    function toggleSidebarCollapse() {
      const sidebar = document.getElementById('sidebar');
      const toggleBtn = document.getElementById('sidebarToggleBtn');
      const overlay = document.querySelector('.mobile-overlay');
      
      if (sidebar.classList.contains('collapsed')) {
        // Expand sidebar
        sidebar.classList.remove('collapsed');
        overlay.classList.add('show');
        toggleBtn.setAttribute('title', 'Collapse sidebar');
        toggleBtn.classList.remove('hint');
        console.log('üìÇ Sidebar expanded');
      } else {
        // Collapse sidebar
        sidebar.classList.add('collapsed');
        overlay.classList.remove('show');
        toggleBtn.setAttribute('title', 'Expand sidebar');
        console.log('üìÅ Sidebar collapsed');
      }
    }

    // Legacy functions for compatibility (now just call main function)
    function toggleSidebar() {
      toggleSidebarCollapse();
    }

    function openSidebar() {
      const sidebar = document.getElementById('sidebar');
      if (sidebar.classList.contains('collapsed')) {
        toggleSidebarCollapse();
      }
    }

    function closeSidebar() {
      const sidebar = document.getElementById('sidebar');
      if (!sidebar.classList.contains('collapsed')) {
        toggleSidebarCollapse();
      }
    }

    // Handle window resize
    window.addEventListener('resize', function() {
      // No auto-opening on resize - user controls sidebar with toggle button
    });

    // Handle iframe errors and retries
    document.getElementById('calcFrame').addEventListener('error', function() {
      console.error('Failed to load calculator:', currentCalc);
      showError();
    });

    // Preload next calculator for better UX
    let preloadLink = null;
    document.querySelectorAll('[data-src]').forEach(el => {
      el.addEventListener('mouseenter', function() {
        if (preloadLink) preloadLink.remove();
        preloadLink = document.createElement('link');
        preloadLink.rel = 'prefetch';
        preloadLink.href = this.getAttribute('href');
        document.head.appendChild(preloadLink);
      });
    });

    // Enhanced Wix-specific optimizations with dynamic height management
    function adjustForWixContainer() {
      const hub = document.querySelector('.hub');
      const container = document.querySelector('.wix-container');
      const iframe = document.getElementById('calcFrame');

      // Auto-adjust height based on container
      if (container && container.offsetHeight > 0) {
        const containerHeight = container.offsetHeight;
        hub.style.height = containerHeight + 'px';
        
        // Ensure minimum usable height
        if (containerHeight < 500) {
          hub.style.minHeight = '500px';
        }
      }

      // Optimize iframe for current viewport
      if (iframe) {
        // Add message listener for iframe content height
        window.addEventListener('message', function(event) {
          if (event.data && event.data.type === 'resize' && event.data.height) {
            const minHeight = Math.max(500, event.data.height);
            hub.style.minHeight = minHeight + 'px';
          }
        });
      }
    }

    // Enhanced responsive behavior monitoring
    function setupResponsiveMonitoring() {
      let resizeTimeout;
      const isInIframe = window.self !== window.top;
      const isWixLive = document.body.classList.contains('wix-live');
      const isWixEditor = document.body.classList.contains('wix-editor');
      
      const handleResize = () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          if (isInIframe) {
            optimizeForIframeEmbedding(isWixEditor, isWixLive);
          } else {
            adjustForWixContainer();
          }
          optimizeForCurrentViewport();
          
          // Additional Wix live site handling
          if (isWixLive) {
            const shouldBeMobile = window.innerWidth <= 800;
            const hub = document.querySelector('.hub');
            
            if (shouldBeMobile) {
              document.body.classList.add('force-wix-mobile');
              hub.classList.add('force-mobile-layout');
              closeSidebar();
            } else {
              document.body.classList.remove('force-wix-mobile');
              hub.classList.remove('force-mobile-layout');
            }
          }
        }, 150);
      };

      window.addEventListener('resize', handleResize);
      window.addEventListener('orientationchange', () => {
        setTimeout(handleResize, 300); // Delay for orientation change completion
      });
      
      // Additional listener for Wix live sites
      if (isWixLive) {
        // Monitor viewport changes more aggressively for Wix live
        let wixViewportTimeout;
        const monitorWixViewport = () => {
          clearTimeout(wixViewportTimeout);
          wixViewportTimeout = setTimeout(() => {
            handleResize();
          }, 100);
        };
        
        // Use multiple event listeners for better Wix live detection
        window.addEventListener('scroll', monitorWixViewport);
        document.addEventListener('visibilitychange', monitorWixViewport);
      }
    }

    // Optimize interface for current viewport
    function optimizeForCurrentViewport() {
      const hub = document.querySelector('.hub');
      const sidebar = document.getElementById('sidebar');
      const viewport = {
        width: window.innerWidth,
        height: window.innerHeight
      };

      // Add viewport-specific classes for fine-tuned styling
      hub.classList.remove('viewport-mobile', 'viewport-tablet', 'viewport-desktop', 'viewport-landscape');
      
      if (viewport.width <= 768) {
        hub.classList.add('viewport-mobile');
        if (viewport.width > viewport.height) {
          hub.classList.add('viewport-landscape');
        }
      } else if (viewport.width <= 1024) {
        hub.classList.add('viewport-tablet');
      } else {
        hub.classList.add('viewport-desktop');
      }

      // Auto-close sidebar on small viewports
      if (viewport.width <= 768 && sidebar && sidebar.classList.contains('open')) {
        closeSidebar();
      }
    }

    // Enhanced iframe loading with height communication
    function enhanceIframeLoading() {
      const iframe = document.getElementById('calcFrame');
      if (!iframe) return;

      iframe.addEventListener('load', function() {
        // Try to establish communication with iframe content
        try {
          const iframeContent = iframe.contentWindow || iframe.contentDocument;
          if (iframeContent) {
            // Send viewport info to iframe including container constraints
            const isInWixIframe = window.self !== window.top;
            const containerHeight = isInWixIframe ? 950 : window.innerHeight;
            
            iframeContent.postMessage({
              type: 'viewport',
              width: window.innerWidth,
              height: containerHeight,
              isInWix: true,
              isInIframe: isInWixIframe,
              containerHeight: containerHeight
            }, '*');
          }
        } catch (e) {
          console.log('Cross-origin iframe - cannot communicate directly');
        }

        hideLoading();
      });
    }

    // Run enhanced Wix adjustments on load and resize
    window.addEventListener('load', () => {
      adjustForWixContainer();
      setupResponsiveMonitoring();
      enhanceIframeLoading();
      optimizeForCurrentViewport();
    });

    // Intersection Observer for better performance
    if ('IntersectionObserver' in window) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            // Hub is visible, ensure optimal display
            optimizeForCurrentViewport();
          }
        });
      });

      document.addEventListener('DOMContentLoaded', () => {
        const hub = document.querySelector('.hub');
        if (hub) observer.observe(hub);
      });
    }
  </script>
</body>
</html>
